USE master
GO
CREATE DATABASE MoonFlower
USE MoonFlower

CREATE TABLE TYPE(
	IDTYPE NVARCHAR(10) NOT NULL PRIMARY KEY,
	TYPE NVARCHAR(20) NOT NULL
);

CREATE TABLE BRAND(
	IDBRAND NVARCHAR(10) NOT NULL PRIMARY KEY,
	BRAND NVARCHAR(20) NOT NULL
);

CREATE TABLE PRODUCT(
	IDPRODUCT NVARCHAR(10) NOT NULL PRIMARY KEY,
	PRODUCTNAME NVARCHAR(20) NOT NULL,
	IDTYPE NVARCHAR(10) NOT NULL,
	IDBRAND NVARCHAR(10) NOT NULL,
	PRICE FLOAT NOT NULL,
	AMOUNT INT NOT NULL,
	TOTALMONEY FLOAT NOT NULL,
	DATEADDED DATE NOT NULL,
	IMG NVARCHAR(100) NOT NULL
);

CREATE TABLE LOGIN(
	USERNAME NVARCHAR(20) NOT NULL PRIMARY KEY,
	FULLNAME NVARCHAR(40) NOT NULL,
	PASSWORD NVARCHAR(20) NOT NULL,
	PHONE NVARCHAR(20) NOT NULL,
	EMAIL NVARCHAR(50) NOT NULL,
	POSITION BIT NULL
);

ALTER TABLE PRODUCT ADD FOREIGN KEY (IDTYPE) REFERENCES TYPE(IDTYPE);

ALTER TABLE PRODUCT ADD FOREIGN KEY (IDBRAND) REFERENCES BRAND(IDBRAND);

INSERT INTO TYPE VALUES 
	('FL', 'Flower'),
	('LE', 'Leaf'),
	('SY', 'Syrup'),
	('PO', 'Powder'),
	('FR', 'Fruit')

INSERT INTO BRAND VALUES 
	('FU', 'Flower USA'),
	('LS', 'Leaf SEA'),
	('SV', 'Syrup VIE'),
	('PE', 'Powder EU'),
	('FJ', 'Fruit JAPAN')

select * from product
INSERT INTO PRODUCT VALUES 
	('PD01', N'Hoa Cúc', 'FL', 'FU', 20000, 20, (20000*20), '2022-04-10', 'HoaCuc.png'),
	('PD04', N'Lá Dứa', 'LE', 'LS', 30000, 10, (30000*10), '2022-06-15', 'LaDua.png'),
	('PD03', N'Siro Dâu', 'SY', 'SV', 40000, 30, (40000*30), '2022-06-02', 'SyrupDau.png'),
	('PD02', N'Bột Sôcôla', 'PO', 'PE',  50000, 23,(50000*23), '2022-05-18', 'Socola.png'),
	('PD05', N'Dâu tằm', 'FR', 'FJ', 60000, 15, (60000*15), '2022-06-19', 'DauTam.png');

INSERT INTO LOGIN VALUES 
	('dinhisme', 'Quoc Vinh', '123', '0123467890', 'dinhisme@gmail.com', 1),
	('employee', 'Quoc Dinh', '123', '0123467890', 'dinhisme@gmail.com' , 0)

